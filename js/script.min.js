var firstServiceDescription=document.getElementsByClassName("services__desc-item")[0],servicesStepPixels=1010,modalClassError="modal_animation_error",modalClassActive="modal_display_block",isStorageSupport=!0,storageLogin=null,storageLoginKey="user-login";try{storageLogin=localStorage.getItem(storageLoginKey)}catch(e){isStorageSupport=!1}function checkIsIEEleven(){var e=window.navigator.userAgent,t=e.indexOf("MSIE");return 0<t?parseInt(e.substring(t+5,e.indexOf(".",t))):navigator.userAgent.match(/Trident\/7\./)?11:0}var isIEElevenVariable=checkIsIEEleven();function setSliderFrame(e){var t=e.target,s=document.getElementsByClassName("slider__item")[0];(t.classList.contains("slider__nav-item")||t.dataset.sliderNumber)&&(s.style.marginLeft="-"+1160*(t.dataset.sliderNumber-1)+"px")}function setServiceSlider(e,t){e.target.classList.add(t),firstServiceDescription.style.marginLeft="-"+e.target.dataset.counter*servicesStepPixels+"px"}function clearActiveClass(e,t){for(var s=0;s<e.length;s++)e[s].classList.remove(t)}function checkFormValid(e,t){var s=[].slice.call(e.querySelectorAll("input"));s=s.concat([].slice.call(e.querySelectorAll("textarea")));for(var a=!0,r=0;r<s.length;r++)if(!s[r].validity.valid){a=!1;break}a||(t.preventDefault(),e.classList.remove(modalClassError),e.offsetWidth=e.offsetWidth,e.classList.add(modalClassError))}function closeAllPopups(e){for(var t=0;t<e.length;t++)e[t].classList.remove(modalClassActive)}function init(){console.log("js inited"),document.getElementsByClassName("slider__nav")[0].addEventListener("click",setSliderFrame);var t="services__item_active",s=document.getElementsByClassName("services__item"),r=document.querySelector(".modal_map-popup"),e=document.querySelector(".information__map-link"),a=r.querySelector(".modal__close"),i=document.querySelector(".modal_wrtite-us"),o=document.querySelector(".information__write-us-button"),n=i.querySelector(".modal__close"),l=i.querySelector(".btn"),c=i.querySelectorAll("input"),d=c[0],u=c[1];if(isIEElevenVariable)for(var m=document.querySelectorAll(".brands img"),v=0;v<m.length;v++)m[v].src=m[v].dataset.source+"gray."+m[v].dataset.imgType,m[v].addEventListener("mouseover",function(e){e.target.src=e.target.dataset.source+"."+e.target.dataset.imgType}),m[v].addEventListener("mouseout",function(e){e.target.src=e.target.dataset.source+"gray."+e.target.dataset.imgType});for(v=0;v<s.length;v++)s[v].addEventListener("click",function(e){clearActiveClass(s,t),setServiceSlider(e,t)});e.addEventListener("click",function(e){e.preventDefault(),r.classList.add(modalClassActive)}),a.addEventListener("click",function(e){e.preventDefault(),r.classList.remove(modalClassActive)}),o.addEventListener("click",function(e){e.preventDefault(),i.classList.add(modalClassActive),isStorageSupport&&storageLogin?(d.value=storageLogin,u.focus()):d.focus()}),n.addEventListener("click",function(e){e.preventDefault(),i.classList.remove(modalClassActive)}),l.addEventListener("click",function(e){checkFormValid(i,e)}),i.addEventListener("submit",function(e){localStorage.setItem(storageLoginKey,d.value),i.classList.remove(modalClassActive)}),window.addEventListener("click",function(e){var t=!1,s=e.path||e.composedPath&&e.composedPath();if(s){for(var a=0;a<s.length;a++)if(s[a].classList&&s[a].classList.contains("modal")){t=!0;break}t||closeAllPopups([i,r])}},!0),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),closeAllPopups([i,r]))})}"loading"!==document.readyState?init():document.addEventListener("DOMContentLoaded",init);