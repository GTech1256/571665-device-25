var firstServiceDescription=document.getElementsByClassName("services__desc-item")[0],servicesStepPixels=1010,modalClassError="modal_animation_error",modalClassActive="modal_display_block",isStorageSupport=!0,storageLogin=null,storageLoginKey="user-login";try{storageLogin=localStorage.getItem(storageLoginKey)}catch(e){isStorageSupport=!1}function checkIsIEEleven(){var e=window.navigator.userAgent,t=e.indexOf("MSIE");return 0<t?parseInt(e.substring(t+5,e.indexOf(".",t))):navigator.userAgent.match(/Trident\/7\./)?11:0}var isIEElevenVariable=checkIsIEEleven();function clearActiveClass(e,t){for(var a=0;a<e.length;a++)e[a].classList.remove(t)}function checkFormValid(e,t){var a=[].slice.call(e.querySelectorAll("input"));a=a.concat([].slice.call(e.querySelectorAll("textarea")));for(var r=!0,o=0;o<a.length;o++)if(!a[o].validity.valid){r=!1;break}r||(t.preventDefault(),e.classList.remove(modalClassError),e.offsetWidth=e.offsetWidth,e.classList.add(modalClassError))}function closeAllPopups(e){for(var t=0;t<e.length;t++)closeModal({preventDefault:function(){}},e[t])}function closeModal(e,t){e.preventDefault(),t.classList.remove(modalClassActive),t.classList.remove(modalClassError)}function init(){switch(document.location.pathname){case"/catalog.html":initCatalogHTML();break;case"/index.html":case"/":initIndexHTML()}}function initCatalogHTML(){for(var e=document.querySelectorAll(".content__action button"),t=0;t<e.length;t++)e[t].addEventListener("focus",function(e){e.target.parentElement.classList.add("content__action_display_wrapper")}),e[t].addEventListener("blur",function(e){e.target.parentElement.classList.remove("content__action_display_wrapper")})}function initIndexHTML(){var e=document.querySelector(".slider__nav"),a=e.querySelector("input[checked]").dataset.sliderNumber-1;function r(e){for(var t=document.querySelectorAll(".slider__item"),a=0;a<t.length;a++){var r=t[a].querySelector(".slider__more");e!==a?r.removeAttribute("href"):r.setAttribute("href","catalog.html")}}r(a),e.addEventListener("click",function(e){var t=e.target;(t.classList.contains("slider__nav-item")||t.dataset.sliderNumber)&&(r(a=t.dataset.sliderNumber-1),document.getElementsByClassName("slider__item")[0].style.marginLeft="-"+1160*a+"px")});var o="services__item_active",n=document.getElementsByClassName("services__item");function s(e){(e=e||document.querySelector(".services__item_active")).setAttribute("disabled",!0)}function i(){[].forEach.call(n,function(e){e.removeAttribute("disabled")})}i(),s();var l=document.querySelector(".modal_map-popup"),t=document.querySelector(".information__map-link"),c=l.querySelector(".modal__close"),d=document.querySelector(".modal_wrtite-us"),u=document.querySelector(".information__write-us-button"),m=d.querySelector(".modal__close"),v=d.querySelector(".btn"),f=d.querySelectorAll("input"),g=f[0],p=f[1];if(isIEElevenVariable)for(var _=document.querySelectorAll(".brands img"),L=0;L<_.length;L++)_[L].src=_[L].dataset.source+"gray."+_[L].dataset.imgType,_[L].addEventListener("mouseover",function(e){e.target.src=e.target.dataset.source+"."+e.target.dataset.imgType}),_[L].addEventListener("mouseout",function(e){e.target.src=e.target.dataset.source+"gray."+e.target.dataset.imgType});for(L=0;L<n.length;L++)n[L].addEventListener("click",function(e){var t,a;i(),s(e.target),clearActiveClass(n,o),a=o,(t=e).target.classList.add(a),firstServiceDescription.style.marginLeft="-"+t.target.dataset.counter*servicesStepPixels+"px"});t.addEventListener("click",function(e){e.preventDefault(),l.classList.add(modalClassActive),document.querySelector(".modal_map-popup .modal__close").focus()}),c.addEventListener("click",function(e){closeModal(e,l)}),u.addEventListener("click",function(e){e.preventDefault(),d.classList.add(modalClassActive),isStorageSupport&&storageLogin?(g.value=storageLogin,p.focus()):g.focus()}),m.addEventListener("click",function(e){closeModal(e,d)}),v.addEventListener("click",function(e){checkFormValid(d,e)}),d.addEventListener("submit",function(e){localStorage.setItem(storageLoginKey,g.value),closeModal(e,d),d.querySelector("form").reset()}),window.addEventListener("click",function(e){var t=!1,a=e.path||e.composedPath&&e.composedPath();if(a){for(var r=0;r<a.length;r++)if(a[r].classList&&a[r].classList.contains("modal")){t=!0;break}t||closeAllPopups([d,l])}},!0),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),closeAllPopups([d,l]))})}"loading"!==document.readyState?init():document.addEventListener("DOMContentLoaded",init);