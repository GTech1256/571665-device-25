var firstServiceDescription=document.getElementsByClassName("services__desc-item")[0],servicesStepPixels=1010,modalClassError="modal_animation_error",modalClassActive="modal_display_block",isStorageSupport=!0,storageLogin=null,storageLoginKey="user-login";try{storageLogin=localStorage.getItem(storageLoginKey)}catch(e){isStorageSupport=!1}function checkIsIEEleven(){var e=window.navigator.userAgent,t=e.indexOf("MSIE");return 0<t?parseInt(e.substring(t+5,e.indexOf(".",t))):navigator.userAgent.match(/Trident\/7\./)?11:0}var isIEElevenVariable=checkIsIEEleven();function setSliderFrame(e){var t=e.target,a=document.getElementsByClassName("slider__item")[0];(t.classList.contains("slider__nav-item")||t.dataset.sliderNumber)&&(a.style.marginLeft="-"+1160*(t.dataset.sliderNumber-1)+"px")}function setServiceSlider(e,t){e.target.classList.add(t),firstServiceDescription.style.marginLeft="-"+e.target.dataset.counter*servicesStepPixels+"px"}function clearActiveClass(e,t){for(var a=0;a<e.length;a++)e[a].classList.remove(t)}function checkFormValid(e,t){var a=[].slice.call(e.querySelectorAll("input"));a=a.concat([].slice.call(e.querySelectorAll("textarea")));for(var r=!0,s=0;s<a.length;s++)if(!a[s].validity.valid){r=!1;break}r||(t.preventDefault(),e.classList.remove(modalClassError),e.offsetWidth=e.offsetWidth,e.classList.add(modalClassError))}function closeAllPopups(e){for(var t=0;t<e.length;t++)closeModal({preventDefault:function(){}},e[t])}function closeModal(e,t){e.preventDefault(),t.classList.remove(modalClassActive),t.classList.remove(modalClassError)}function init(){switch(document.location.pathname){case"/catalog.html":initCatalogHTML();break;case"/index.html":case"/":initIndexHTML()}}function initCatalogHTML(){for(var e=document.querySelectorAll(".content__action button"),t=0;t<e.length;t++)e[t].addEventListener("focus",function(e){e.target.parentElement.classList.add("content__action_display_wrapper")}),e[t].addEventListener("blur",function(e){e.target.parentElement.classList.remove("content__action_display_wrapper")})}function initIndexHTML(){document.getElementsByClassName("slider__nav")[0].addEventListener("click",setSliderFrame);var t="services__item_active",a=document.getElementsByClassName("services__item"),s=document.querySelector(".modal_map-popup"),e=document.querySelector(".information__map-link"),r=s.querySelector(".modal__close"),n=document.querySelector(".modal_wrtite-us"),i=document.querySelector(".information__write-us-button"),o=n.querySelector(".modal__close"),l=n.querySelector(".btn"),c=n.querySelectorAll("input"),d=c[0],u=c[1];if(isIEElevenVariable)for(var m=document.querySelectorAll(".brands img"),v=0;v<m.length;v++)m[v].src=m[v].dataset.source+"gray."+m[v].dataset.imgType,m[v].addEventListener("mouseover",function(e){e.target.src=e.target.dataset.source+"."+e.target.dataset.imgType}),m[v].addEventListener("mouseout",function(e){e.target.src=e.target.dataset.source+"gray."+e.target.dataset.imgType});for(v=0;v<a.length;v++)a[v].addEventListener("click",function(e){[].forEach.call(a,function(e){e.removeAttribute("disabled")}),e.target.setAttribute("disabled",!0),clearActiveClass(a,t),setServiceSlider(e,t)});e.addEventListener("click",function(e){e.preventDefault(),s.classList.add(modalClassActive)}),r.addEventListener("click",function(e){closeModal(e,s)}),i.addEventListener("click",function(e){e.preventDefault(),n.classList.add(modalClassActive),isStorageSupport&&storageLogin?(d.value=storageLogin,u.focus()):d.focus()}),o.addEventListener("click",function(e){closeModal(e,n)}),l.addEventListener("click",function(e){checkFormValid(n,e)}),n.addEventListener("submit",function(e){localStorage.setItem(storageLoginKey,d.value),closeModal(e,n),n.querySelector("form").reset()}),window.addEventListener("click",function(e){var t=!1,a=e.path||e.composedPath&&e.composedPath();if(a){for(var r=0;r<a.length;r++)if(a[r].classList&&a[r].classList.contains("modal")){t=!0;break}t||closeAllPopups([n,s])}},!0),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),closeAllPopups([n,s]))})}"loading"!==document.readyState?init():document.addEventListener("DOMContentLoaded",init);